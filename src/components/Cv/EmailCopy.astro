---
---

<div class="group print:hidden" data-email-copy>
  <button
    aria-label="Copiar email"
    class="inline-flex gap-1.5 items-center hover:opacity-70 flex-row justify-start sm:justify-end"
  >
    <slot/>
    <span class="copy-icon">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="14"
        height="14"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2" />
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1" />
      </svg>
    </span>
    <span class="copied-icon hidden">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="14"
        height="14"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="text-green-500"
      >
        <polyline points="20 6 9 17 4 12" />
      </svg>
    </span>
  </button>
  <span class="sr-only underline select-all email-text">santuan.web@gmail.com</span>
</div>

<script is:inline>
  (function() {
    const containers = document.querySelectorAll('[data-email-copy]');
    containers.forEach(container => {
      const button = container.querySelector('button');
      const copyIcon = container.querySelector('.copy-icon');
      const copiedIcon = container.querySelector('.copied-icon');
      const email = container.querySelector('.email-text').textContent;
      
      button.addEventListener('click', async function() {
        try {
          await navigator.clipboard.writeText(email);
          copyIcon.classList.add('hidden');
          copiedIcon.classList.remove('hidden');
          
          setTimeout(() => {
            copyIcon.classList.remove('hidden');
            copiedIcon.classList.add('hidden');
          }, 2000);
        } catch (err) {
          console.error('Failed to copy:', err);
        }
      });
    });
  })();
</script>
